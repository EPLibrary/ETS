"use strict";var Dms={};Dms.parseDMS=function(e){if("number"==typeof e&&isFinite(e))return Number(e);var a=String(e).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==a[a.length-1]&&a.splice(a.length-1),""==a)return NaN;var r;switch(a.length){case 3:r=a[0]/1+a[1]/60+a[2]/3600;break;case 2:r=a[0]/1+a[1]/60;break;case 1:r=a[0];break;default:return NaN}return/^-|[WS]$/i.test(e.trim())&&(r=-r),Number(r)},Dms.separator="",Dms.toDMS=function(e,a,r){if(isNaN(e))return null;if(void 0===a&&(a="dms"),void 0===r)switch(a){case"d":case"deg":r=4;break;case"dm":case"deg+min":r=2;break;case"dms":case"deg+min+sec":r=0;break;default:a="dms",r=0}e=Math.abs(e);var s,t,c,n;switch(a){default:case"d":case"deg":(t=e.toFixed(r))<100&&(t="0"+t),t<10&&(t="0"+t),s=t+"°";break;case"dm":case"deg+min":var o=(60*e).toFixed(r);t=Math.floor(o/60),c=(o%60).toFixed(r),t<100&&(t="0"+t),t<10&&(t="0"+t),c<10&&(c="0"+c),s=t+"°"+Dms.separator+c+"′";break;case"dms":case"deg+min+sec":var i=(3600*e).toFixed(r);t=Math.floor(i/3600),c=Math.floor(i/60)%60,n=(i%60).toFixed(r),t<100&&(t="0"+t),t<10&&(t="0"+t),c<10&&(c="0"+c),n<10&&(n="0"+n),s=t+"°"+Dms.separator+c+"′"+Dms.separator+n+"″"}return s},Dms.toLat=function(e,a,r){var s=Dms.toDMS(e,a,r);return null===s?"–":s.slice(1)+Dms.separator+(e<0?"S":"N")},Dms.toLon=function(e,a,r){var s=Dms.toDMS(e,a,r);return null===s?"–":s+Dms.separator+(e<0?"W":"E")},Dms.toBrng=function(e,a,r){e=(Number(e)+360)%360;var s=Dms.toDMS(e,a,r);return null===s?"–":s.replace("360","0")},Dms.compassPoint=function(e,a){void 0===a&&(a=3),e=(e%360+360)%360;var r;switch(a){case 1:switch(Math.round(4*e/360)%4){case 0:r="N";break;case 1:r="E";break;case 2:r="S";break;case 3:r="W"}break;case 2:switch(Math.round(8*e/360)%8){case 0:r="N";break;case 1:r="NE";break;case 2:r="E";break;case 3:r="SE";break;case 4:r="S";break;case 5:r="SW";break;case 6:r="W";break;case 7:r="NW"}break;case 3:switch(Math.round(16*e/360)%16){case 0:r="N";break;case 1:r="NNE";break;case 2:r="NE";break;case 3:r="ENE";break;case 4:r="E";break;case 5:r="ESE";break;case 6:r="SE";break;case 7:r="SSE";break;case 8:r="S";break;case 9:r="SSW";break;case 10:r="SW";break;case 11:r="WSW";break;case 12:r="W";break;case 13:r="WNW";break;case 14:r="NW";break;case 15:r="NNW"}break;default:throw new RangeError("Precision must be between 1 and 3")}return r},void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),"undefined"!=typeof module&&module.exports&&(module.exports=Dms);